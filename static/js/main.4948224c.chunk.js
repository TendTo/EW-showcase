(this["webpackJsonpew-app"]=this["webpackJsonpew-app"]||[]).push([[0],{1093:function(e,t){},1096:function(e,t){},1164:function(e,t){},1170:function(e,t){},1183:function(e,t){},1189:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1189},1190:function(e,t,n){},1198:function(e,t){},1206:function(e,t){},1223:function(e,t){},1224:function(e,t){},1246:function(e,t){},1313:function(e,t,n){},1319:function(e,t,n){},1320:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(92),s=n.n(a),o=n(25),i=n(508),l=n(42),u=n(1332),d=n(1334),h=n(93),b=(n(518),n(1337)),j=n(1335),f=n(3),p=[],x={time:3e3,className:"",position:"center"},m=function(){var e=document.getElementById("toast_container"),t=x.position||"center";s.a.render(Object(f.jsx)("div",{className:"toast-list ".concat(t),children:Object(f.jsx)(b.a,{classnames:"list",children:p.map((function(e){return Object(f.jsx)(j.a,{timeout:300,classNames:"toast",children:e.component},e.id)}))})}),e)},O=function(e){var t=e.message,n=e.className,r=e.contentClassName,a=e.clickable,s=e.onClick,o=Object(c.useRef)();Object(c.useLayoutEffect)((function(){if(o.current&&o.current.clientHeight){var e=o.current.clientHeight;o.current.style.height="0px",setTimeout((function(){o&&o.current&&(o.current.style.height="".concat(e,"px"))}),0)}}));var i=["toast-content",a?"clickable":"",r].filter(Boolean).join(" "),l={onClick:s,tabIndex:0,role:"button"};return Object(f.jsx)("div",{ref:o,className:"toast-message ".concat(n),children:Object(f.jsx)("div",Object(h.a)(Object(h.a)({className:i},a&&l),{},{children:t}))})};var v=function(e,t){var n;switch(typeof t){case"string":n={contentClassName:"text-".concat(t)};break;case"number":n={time:t};break;default:n=t||{}}var c=n,r=c.time,a=void 0===r?x.time:r,s=c.clickable,o=void 0!==s&&s,i=c.className,l=void 0===i?x.className:i,u=c.contentClassName,d=void 0===u?"":u,h=c.onClick,b=void 0===h?void 0:h;document.getElementById("toast_container")||console.error("No toast_container element"),p&&Array.isArray(p)||(p=[]),m();var j=Date.now();p.push({id:j,component:Object(f.jsx)(O,{message:e,className:l,clickable:o,onClick:b,contentClassName:d})}),m(),setTimeout((function(){var e=p.findIndex((function(e){return e.id===j}));p.splice(e,1),m()}),a)};n(522);var g=function(e){var t=e.accounts,n=e.chain;return Object(f.jsxs)(u.a,{bg:"light",expand:"lg",children:[Object(f.jsx)(u.a.Brand,{href:"#home",children:"Energy Web Dapp showcase"}),Object(f.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(f.jsxs)(d.a,{className:"me-auto",children:[Object(f.jsx)(d.a.Link,{href:"#home",children:"Home"}),Object(f.jsx)(d.a.Link,{href:"#ens",children:"ENS"}),Object(f.jsx)(d.a.Link,{href:"#did",children:"DID"}),Object(f.jsx)(d.a.Link,{href:"#iam",children:"IAM"})]}),Object(f.jsxs)(d.a,{className:"connection-info",children:[t.length>0&&Object(f.jsx)("p",{className:"account-info text-muted",onClick:function(){navigator.clipboard.writeText(t[0]),v("Address copied to clipboard")},children:function(){if(0===t.length)return"";var e=t[0];return"".concat(e.slice(0,6),"...").concat(e.slice(-4))}()}),n&&Object(f.jsx)("p",{className:"chain-info text-info",children:n})]})]})]})},k=n(0),y=n.n(k),w=n(16),N=n(1336),T=n(1333),C=n(1328),S=n(497),U=n(1329),A=n(1330),E=n(496),I=n(5),L=n(8),M=n(17),q=n(18),R=function(e){Object(M.a)(n,e);var t=Object(q.a)(n);function n(e){var c;return Object(I.a)(this,n),(c=t.call(this)).setLoading=e,c.baseUrl="https://volta-explorer.energyweb.org/api",c.apiVersion="v1",c}return Object(L.a)(n,[{key:"apiRequestWrapper",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c,r,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",c=a.length>2?a[2]:void 0,this.setLoading&&this.setLoading(!0),e.next=5,this.apiRequest("",n,t,c);case 5:return(r=e.sent).ok||this.handleError(r),this.setLoading&&this.setLoading(!1),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEthBalance",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n){var c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={module:"account",action:"eth_get_balance",address:t,block:n},e.next=3,this.apiRequestWrapper(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={module:"account",action:"balance",address:t},e.next=3,this.apiRequestWrapper(n);case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBalanceMulti",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,c,r,a,s=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),c=0;c<t;c++)n[c]=s[c];return r={module:"account",action:"balancemulti",address:n.join(",")},e.next=4,this.apiRequestWrapper(r);case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransactionsList",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n){var c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(h.a)({module:"account",action:"txlist",address:t},n),e.next=3,this.apiRequestWrapper(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTokenList",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={module:"account",action:"tokenlist",address:t},e.next=3,this.apiRequestWrapper(n);case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransactionsList(t);case 2:return e.t0=e.sent,e.next=5,this.getBalance(t);case 5:return e.t1=e.sent,e.next=8,this.getTokenList(t);case 8:return e.t2=e.sent,e.abrupt("return",{tx:e.t0,balance:e.t1,token:e.t2});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(function(){function e(){Object(I.a)(this,e),this.baseUrl="",this.apiVersion="v1"}return Object(L.a)(e,[{key:"apiRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,r=e?"".concat(this.baseUrl,"/").concat(e):this.baseUrl;return n&&(r+="?".concat(this.queryStringify(n))),this.httpRequest(r,t,c)}},{key:"httpRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,c=new Headers;c.append("Content-Type","application/json");var r={headers:c,method:t};return n&&(r.body=JSON.stringify(n)),console.debug("Fetch - ".concat(t," - ").concat(e)),fetch(e,r)}},{key:"handleError",value:function(e){var t=e.status?"".concat(e.status," - ").concat(e.statusText):"Server error";throw console.error(t),t}},{key:"queryStringify",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),e}()),B=function(){function e(){Object(I.a)(this,e),this.baseUrl="https://volta-explorer.energyweb.org"}return Object(L.a)(e,null,[{key:"shortenAddress",value:function(e){return e?"".concat(e.slice(0,8),"...").concat(e.slice(-6)):""}},{key:"convertVT",value:function(e){if(!e||"0"===e)return"0";for(var t=Math.max(1,e.length-18),n=Math.max(-1,18-e.length),c=0,r=e.length-1;r>=0;r--){if("0"!==e[r]){c=r;break}}if(n>=0)return"0.".concat("0".repeat(n)).concat(e.slice(0,c+1));var a=c>=t?".".concat(e.slice(t,c+1)):"";return"".concat(e.slice(0,t)).concat(a)}}]),e}(),P=function(e){Object(M.a)(n,e);var t=Object(q.a)(n);function n(e){var c;return Object(I.a)(this,n),(c=t.call(this)).blockHash=void 0,c.blockNumber=void 0,c.confirmations=void 0,c.contractAddress=void 0,c.cumulativeGasUsed=void 0,c.from=void 0,c.gas=void 0,c.gasPrice=void 0,c.gasUsed=void 0,c.hash=void 0,c.input=void 0,c.isError=void 0,c.nonce=void 0,c.timeStamp=void 0,c.to=void 0,c.transactionIndex=void 0,c.txreceipt_status=void 0,c.value=void 0,c.blockHash=e.blockHash,c.blockNumber=e.blockNumber,c.confirmations=e.confirmations,c.contractAddress=e.contractAddress,c.cumulativeGasUsed=e.cumulativeGasUsed,c.from=e.from,c.gas=e.gas,c.gasPrice=e.gasPrice,c.gasUsed=e.gasUsed,c.hash=e.hash,c.input=e.input,c.isError=e.isError,c.nonce=e.nonce,c.timeStamp=e.timeStamp,c.to=e.to,c.transactionIndex=e.transactionIndex,c.txreceipt_status=e.txreceipt_status,c.value=e.value,c}return Object(L.a)(n,[{key:"method",get:function(){switch(this.input){case"0x":return"Transfer";default:return this.input.slice(0,10)}}},{key:"UTCTimestamp",get:function(){return new Date(1e3*Number(this.timeStamp)).toUTCString().slice(0,-4)}},{key:"transactionUrl",get:function(){return"".concat(this.baseUrl,"/tx/").concat(this.hash,"/internal-transactions")}},{key:"blockNumberUrl",get:function(){return"".concat(this.baseUrl,"/blocks/").concat(this.blockNumber,"/transactions")}},{key:"fromAddressUrl",get:function(){return"".concat(this.baseUrl,"/address/").concat(this.from,"/transactions")}},{key:"toAddressUrl",get:function(){return"".concat(this.baseUrl,"/address/").concat(this.to,"/transactions")}},{key:"valueVt",get:function(){return n.convertVT(this.value)}},{key:"gasVt",get:function(){return n.convertVT(this.gas)}},{key:"shortTo",get:function(){return n.shortenAddress(this.to)}},{key:"shortFrom",get:function(){return n.shortenAddress(this.from)}},{key:"isInTransaction",value:function(e){return this.to.toLowerCase()===e.toLowerCase()}}]),n}(B);var W=function(e){var t=e.transaction,n=e.address,c=new P(t);return Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"row tile-body",children:[Object(f.jsxs)("div",{className:"col-md-2 d-flex flex-row flex-md-column",children:[Object(f.jsx)("span",{className:"tile-label",children:"Transaction"}),Object(f.jsx)("span",{className:"badge title-badge",children:"1"===t.isError?"Error":"Success"})]}),Object(f.jsxs)("div",{className:"col-md-7 col-lg-8 d-flex flex-column pr-2 pr-sm-2 pr-md-0",children:[Object(f.jsx)("span",{children:Object(f.jsxs)("div",{className:"text-truncate d-flex",children:[Object(f.jsx)("a",{className:"text-truncate",href:c.transactionUrl,children:c.hash}),Object(f.jsx)("div",{className:"ml-1",children:c.method})]})}),Object(f.jsxs)("span",{children:[Object(f.jsx)("a",{href:c.fromAddressUrl,children:Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"d-none d-md-none d-xl-inline",children:c.from}),Object(f.jsx)("span",{className:"d-md-inline-block d-xl-none",children:c.shortFrom})]})}),"\u2192",Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"d-none d-md-none d-xl-inline",children:c.to||n}),Object(f.jsx)("span",{className:"d-md-inline-block d-xl-none",children:c.shortTo||P.shortenAddress(n)})]})]}),Object(f.jsxs)("span",{className:"d-flex flex-md-row flex-column mt-3 mt-md-0",children:[Object(f.jsxs)("span",{className:"tile-title",children:[c.valueVt," VT"]}),Object(f.jsxs)("span",{className:"ml-0 ml-md-1 text-nowrap text-muted",children:[c.gasVt," TX Fee"]})]})]}),Object(f.jsxs)("div",{className:"col-md-3 col-lg-2 d-flex flex-row flex-md-column flex-nowrap justify-content-center text-md-right mt-3 mt-md-0 tile-bottom",children:[Object(f.jsx)("span",{className:"mr-2 mr-md-0 order-1",children:Object(f.jsxs)("a",{href:c.blockNumberUrl,children:["Block #",c.blockNumber]})}),Object(f.jsx)("span",{className:"mr-2 mr-md-0 order-2",children:c.UTCTimestamp}),Object(f.jsx)("span",{className:"mr-2 mr-md-0 order-0 order-md-3",children:c.to&&Object(f.jsx)("span",{className:"badge badge-".concat(c.isInTransaction(n)?"success":"warning"," tile-badge"),children:c.isInTransaction(n)?"IN":"OUT"})})]})]})})};n(525);var V=function(e){var t=e.account,n=e.address;return Object(f.jsx)(N.a,{className:"text-center border-primary",children:Object(f.jsxs)(N.a.Body,{children:[Object(f.jsx)(N.a.Title,{className:"address-info",onClick:function(){return function(e){window.location.href="https://volta-explorer.energyweb.org/address/".concat(e,"/transactions")}(n)},children:n}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Balance:"}),Object(f.jsxs)("span",{children:[B.convertVT(t.balance.result)," VT"]})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{children:t.token.result.length}),Object(f.jsx)("b",{children:" tokens"})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("table",{className:"table table-hover",children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:Object(f.jsx)("th",{scope:"col",children:"Transactions"})})}),Object(f.jsx)("tbody",{children:function(e){return e.tx.result.slice(0,10).map((function(e,t){return Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsx)(W,{transaction:e,address:n})})},t)}))}(t)})]})]})})},D=n(133);var F=function(e){var t,n,r,a=e.web3,s=Object(c.useRef)(new R),i=Object(c.useRef)(),l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],j=Object(c.useState)(""),p=Object(o.a)(j,2),x=p[0],m=p[1],O=Object(c.useState)(!1),v=Object(o.a)(O,2),g=v[0],k=v[1],I=Object(E.a)(),L=I.register,M=I.formState.errors,q=I.handleSubmit,B=I.reset,P=function(e){return e.endsWith(".ewc")},W=function(e){return/^0x[a-fA-F0-9]{40}$/.test(e)},F=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.search,!g){e.next=3;break}return e.abrupt("return");case 3:if(B(),k(!0),c="",!P(n)){e.next=23;break}return e.prev=7,e.next=10,null===a||void 0===a?void 0:a.eth.ens.getAddress(n);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0="";case 13:c=e.t0,e.next=21;break;case 16:e.prev=16,e.t1=e.catch(7),console.error(e.t1),b(D.b),e.t1.message.startsWith("The resolver at 0x0000000000000000000000000000000000000000")&&b(D.c);case 21:e.next=24;break;case 23:W(n)?c=n:(b(D.d),k(!1));case 24:c&&c!==x||k(!1),m(c);case 26:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){x&&s.current.getAccountInfo(x).then((function(e){i.current=e,k(!1)})).catch(console.error).finally((function(){return k(!1)}))}),[x]),Object(f.jsx)(N.a,{children:Object(f.jsxs)(N.a.Body,{children:[Object(f.jsx)(N.a.Title,{children:"ENS service"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(T.a,{className:"form-h",onSubmit:q(F),children:[Object(f.jsxs)(C.a,{hasValidation:!0,children:[Object(f.jsx)(S.a,Object(h.a)(Object(h.a)({},L("search",{required:{value:!0,message:D.a},validate:function(e){return!(!P(e)&&!W(e))||D.d}})),{},{type:"search",placeholder:"Search",isInvalid:"required"===(null===(t=M.search)||void 0===t?void 0:t.type)||"validate"===(null===(n=M.search)||void 0===n?void 0:n.type),"aria-label":"Search"})),Object(f.jsx)(T.a.Control.Feedback,{type:"invalid",children:null===(r=M.search)||void 0===r?void 0:r.message})]}),Object(f.jsx)(U.a,{variant:"outline-success",type:"submit",disabled:g,children:Object(f.jsx)("i",{className:"fa fa-search"})})]}),Object(f.jsx)("br",{}),g&&Object(f.jsx)(A.a,{animation:"border"}),!g&&(function(e){return""===e||void 0===i.current?null:Object(f.jsx)(V,{account:i.current,address:e})}(x)||Object(f.jsx)("p",{children:d}))]})]})})};var _=function(){return Object(f.jsxs)(N.a,{children:[Object(f.jsx)(N.a.Img,{variant:"top"}),Object(f.jsxs)(N.a.Body,{children:[Object(f.jsx)(N.a.Title,{children:"Energy Web DApp showcase"}),Object(f.jsx)(N.a.Text,{children:"This is a simple DApp meant to showcase some of the peculiarities of the Energy Web ecosystem."})]})]})},H=n(108),G=n.p+"static/media/key-manager-icon.1e677450.svg",J=n.p+"static/media/metamask-logo.05bfcf16.svg",z=n.p+"static/media/wallet-connect-icon.44297cab.svg",K=(n(1190),n(135));Object(H.c)(73799,{url:"https://volta-identitycache.energyweb.org/"}),Object(H.d)(73799,{rpcUrl:"https://volta-rpc.energyweb.org"});var Y=function(){var e=Object(c.useRef)(new H.a),t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(!1),h=Object(o.a)(d,2),b=h[0],j=h[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),m=x[0],O=x[1],v=Object(c.useState)(!1),g=Object(o.a)(v,2),k=g[0],T=g[1],C=function(){var t=Object(w.a)(y.a.mark((function t(n){var c,r,s,o,i,l,d,h;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),j(!1),T(!1),t.prev=3,t.next=6,e.current.initializeConnection(n);case 6:if(c=t.sent,r=c.identityToken,(s=c.did)&&u(s),!r){t.next=14;break}return o={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:r},t.next=14,fetch("".concat(K.a,"/login"),o);case 14:return i={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}},t.next=17,fetch("".concat(K.a,"/roles"),i);case 17:return l=t.sent,t.next=20,l.json();case 20:d=t.sent,h=d.data,t.t0=l.status,t.next=200===t.t0?25:401===t.t0?27:29;break;case 25:return a(h),t.abrupt("break",30);case 27:return T(!0),t.abrupt("break",30);case 29:j(!0);case 30:t.next=36;break;case 32:t.prev=32,t.t1=t.catch(3),console.error(t.t1),j(!0);case 36:O(!1);case 37:case"end":return t.stop()}}),t,null,[[3,32]])})));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(""),t.next=3,e.current.closeConnection();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=Object(f.jsxs)("div",{children:[Object(f.jsx)(A.a,{animation:"border"}),Object(f.jsx)("span",{children:"Loading... (Please sign messages using your connected wallet)"})]}),I=K.b&&Object(f.jsx)("a",{href:"".concat(K.b,"&returnUrl=").concat(encodeURIComponent(window.location.href)),className:"button",children:Object(f.jsx)("span",{children:"Enrol to test role"})}),L=Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Hello user!"}),Object(f.jsxs)("p",{children:["Your decentralised identifier: ",Object(f.jsx)("br",{}),Object(f.jsx)("strong",{children:l})]}),r&&r.length>0?Object(f.jsxs)("div",{className:"rolesContainer",children:[Object(f.jsx)("p",{children:"These are your validated roles:"}),r.map((function(e){var t=e.name,n=e.namespace;return Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"".concat(t)})," at ".concat(n)]},n)}))]}):Object(f.jsx)("div",{children:"You do not have any issued role at the moment, please login into switchboard and search for apps, orgs to enrol."}),Object(f.jsxs)("div",{className:"logoutContainer",children:[I,Object(f.jsx)(U.a,{onClick:S,className:"button",children:Object(f.jsx)("span",{children:"Logout"})})]})]}),M=Object(f.jsxs)("div",{className:"login-button-container",children:[Object(f.jsxs)(U.a,{onClick:function(){return C({walletProvider:H.b.WalletConnect})},children:[Object(f.jsx)("img",{alt:"walletconnect logo",className:"walletconnect",src:z}),Object(f.jsx)("span",{children:"Login with Wallet Connect"})]}),Object(f.jsxs)(U.a,{onClick:function(){return C({walletProvider:H.b.MetaMask})},children:[Object(f.jsx)("img",{alt:"metamask logo",className:"metamask",src:J}),Object(f.jsx)("span",{children:"Login with Metamask"})]}),Object(f.jsxs)(U.a,{onClick:function(){return C({walletProvider:H.b.EwKeyManager})},children:[Object(f.jsx)("img",{alt:"metamask logo",className:"metamask",src:G}),Object(f.jsx)("span",{children:"Login with EW Key Manager"})]})]}),q=Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["Error occurred with login.",Object(f.jsx)("br",{}),"If you rejected the signing requests, please try again and accept.",Object(f.jsx)("br",{}),"If this is your first time logging in, your account needs a small amount of Volta token to create a DID Document.",Object(f.jsx)("br",{}),"A Volta token can be obtained from the"," ",Object(f.jsx)("a",{href:"https://voltafaucet.energyweb.org/",children:"Volta Faucet"}),"."]}),M]}),R=Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["Unauthorized login response.",Object(f.jsx)("br",{}),"Please ensure that you have the necessary role claim."]}),Object(f.jsxs)("div",{className:"enrolbuttonContainer",children:[K.b&&Object(f.jsx)("p",{children:"Use enrolment button to request necessary role."}),I]}),M]});return Object(f.jsx)(N.a,{children:Object(f.jsxs)(N.a.Body,{children:[Object(f.jsx)(N.a.Title,{children:"IAM showcase"}),m?E:k?R:b?q:l?L:M]})})},X=n(132),$=n.n(X),Q=n(276),Z=n(277),ee=n.n(Z),te=n(195);var ne=function(e){var t=e.setAccounts,n=e.setWeb3,a=e.setChain,s=e.web3,o=e.chain,i=r.a.useRef(new Q.a),l=function(e){e.length>0?(t(e),i.current.stopOnboarding()):v(te.b,"danger")},u=function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q.a.isMetaMaskInstalled()){e.next=27;break}return i.current.stopOnboarding(),e.next=4,$()();case 4:return t=e.sent,e.prev=5,e.next=8,t.request({method:"eth_requestAccounts"});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),v(te.a,"danger"),e.abrupt("return");case 14:return n=s||new ee.a(t),e.t1=l,e.next=18,n.eth.getAccounts();case 18:return e.t2=e.sent,(0,e.t1)(e.t2),e.t3=a,e.next=23,n.eth.net.getNetworkType();case 23:e.t4=e.sent,(0,e.t3)(e.t4),e.next=29;break;case 27:v(te.c,"danger"),i.current.startOnboarding();case 29:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(e,n){e.removeListener("accountsChanged",t),e.removeListener("chainChanged",a),e.on("accountsChanged",t),e.on("chainChanged",function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,n.eth.net.getNetworkType();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};(function(){var c=Object(w.a)(y.a.mark((function c(){var r,o,i,l;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,$()();case 2:if(null===(r=c.sent)){c.next=16;break}return o=new ee.a(r),c.next=7,o.eth.getAccounts();case 7:return i=c.sent,c.next=10,o.eth.net.getNetworkType();case 10:l=c.sent,console.log("Web3 setted: ".concat(s)),i.length>0&&t(i),a(l),n(o),e(r,o);case 16:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[t,n,a,s]),Object(f.jsx)(N.a,{className:"text-center",children:Object(f.jsxs)(N.a.Body,{children:[Object(f.jsx)(N.a.Title,{children:"Login"}),Object(f.jsx)("div",{className:"login-button-container",children:Object(f.jsxs)(U.a,{onClick:u,children:[Object(f.jsx)("img",{alt:"metamask logo",className:"metamask",src:J}),Object(f.jsx)("span",{children:"Login with Metamask"})]})}),!["volta"].includes(o)&&""!==o&&Object(f.jsxs)("p",{className:"label text-danger",children:[o," net is not supported.",Object(f.jsx)("br",{}),"Conntect to the volta testnet"]})]})})};n(1313);var ce=function(){var e=["volta"],t=Object(c.useState)(),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)([]),u=Object(o.a)(s,2),d=u[0],h=u[1],b=Object(c.useState)(""),j=Object(o.a)(b,2),p=j[0],x=j[1],m=function(){return void 0!==r&&d.length>0&&e.includes(p)};return console.log("APP"),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(i.a,{children:[Object(f.jsx)(g,{accounts:d,chain:p}),Object(f.jsxs)("main",{className:"container-fluid",children:[m()&&Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/ens",exact:!0,children:Object(f.jsx)(F,{web3:r})}),Object(f.jsx)(l.a,{path:"/iam",exact:!0,children:Object(f.jsx)(Y,{})}),Object(f.jsx)(l.a,{path:"/",component:_})]}),!m()&&Object(f.jsx)(ne,{web3:r,chain:p,setAccounts:h,setWeb3:a,setChain:x})]})]})})},re=(n(1319),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1338)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))});s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(ce,{})}),document.getElementById("root")),re()},133:function(e){e.exports=JSON.parse('{"a":"Insert either an ENS name or an address","b":"An error has occurred. Make sure you are connected to MetaMask","c":"The specified address could not be found","d":"The address or name you entered is not valid"}')},135:function(e){e.exports=JSON.parse('{"a":"https://did-auth-demo.energyweb.org","b":""}')},195:function(e){e.exports=JSON.parse('{"c":"No ethereum provider found. Please download Metamask","b":"No account connected. Please connect an account","a":"A request has already been sent. Check your MetaMask extension"}')},518:function(e,t,n){},522:function(e,t,n){},525:function(e,t,n){},536:function(e,t){},538:function(e,t){},551:function(e,t){},553:function(e,t){},581:function(e,t){},583:function(e,t){},584:function(e,t){},589:function(e,t){},591:function(e,t){},597:function(e,t){},599:function(e,t){},618:function(e,t){},630:function(e,t){},633:function(e,t){},652:function(e,t){},740:function(e,t){},957:function(e,t){},959:function(e,t){},990:function(e,t){},999:function(e,t){}},[[1320,1,2]]]);
//# sourceMappingURL=main.4948224c.chunk.js.map